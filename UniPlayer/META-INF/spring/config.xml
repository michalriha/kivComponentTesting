<?xml version="1.0" encoding="UTF-8"?>
<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:osgi="http://www.springframework.org/schema/osgi"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
	  	http://www.springframework.org/schema/beans
	    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	    http://www.springframework.org/schema/osgi
	    http://www.springframework.org/schema/osgi/spring-osgi.xsd" >

	<osgi:reference id="EventAdmin" interface="org.osgi.service.event.EventAdmin" />
	
	<osgi:reference id="ScenarioLoader" interface="cz.zcu.kiv.bp.uniplayer.bindings.IScenario" />
	
	<osgi:service id="UniplayerCommander" ref="commander" interface="org.eclipse.osgi.framework.console.CommandProvider" />
	 
	<bean name="commander" class="cz.zcu.kiv.bp.uniplayer.Commander" init-method="start">
		<property name="ldr" ref="ScenarioLoader" />
		<property name="plr" ref="player" />
	</bean>
		
 	<bean name="player" class="cz.zcu.kiv.bp.uniplayer.Player" destroy-method="stop">
		<property name="eventAdmin" ref="EventAdmin" />
	</bean>
</beans>